# XION Apps Monorepo Environment
# Automatic Git operations and development environment

# Export repository information
export XION_APPS_ROOT="$(pwd)"
export XION_APPS_NAME="xion-apps"

# Git automation settings
export GIT_AUTO_FETCH=true
export GIT_AUTO_COMMIT=false
export GIT_AUTO_PUSH=false

# Development settings
export NODE_ENV=development
export PNPM_HOME="$HOME/.local/share/pnpm"

# Add helper scripts to PATH
PATH_add scripts/git-helpers

# Cloudflare Workers settings
export CLOUDFLARE_ACCOUNT_ID="your-account-id-here"

# Auto-fetch submodules on directory entry
if [[ "$GIT_AUTO_FETCH" == "true" ]]; then
  echo "üîÑ Auto-fetching submodule updates..."
  git submodule foreach 'git fetch --quiet || true' &
fi

# Load submodule environment when entering subdirectories
watch_file .gitmodules

echo "üèóÔ∏è XION Apps monorepo environment loaded"
echo "üìÇ Root: $XION_APPS_ROOT"
echo "üîß Git helpers available: auto-commit.sh, auto-push.sh, auto-sync.sh"